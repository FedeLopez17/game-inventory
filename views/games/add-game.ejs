<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="/scripts/script.js" defer></script>
    <link rel="stylesheet" href="/styles/style.css">
    <title>Add Game</title>
  </head>
  <body>
    <form id="add-genre" onsubmit="addGenre(); return false;"></form>
    <form action="" method="post">
      <section>
        <label for="title">Title</label>
        <input type="text" id="title" name="title" />
      </section>

      <section>
        <label for="cover-image">Cover image</label>
        <input type="file" accept="image/*" id="cover-image" name="cover" />
      </section>

      <section>
        <label for="banner-image">Banner image</label>
        <input type="file" accept="image/*" id="banner-image" name="banner" />
      </section>

      <section>
        <label for="release-date">Release date</label>
        <input type="date" id="release-date" name="release" />
      </section>

      <section>
        <label for="description">Description</label>
        <textarea name="description" id="description" rows="4"></textarea>
      </section>

      <section>
        <label for="website">Website</label>
        <input type="url" id="website" name="website" />
      </section>

      <section>
        <label for="goty">Did this game win Game of The Year Award?</label>
        <input type="checkbox" name="goty" id="goty" />
      </section>

      <fieldset>
        <legend>PEGI Rating</legend>

        <% pegiRatings.forEach(rating => { %>
          <label>
            <input type="radio" name="pegi" value=<%= rating.id %> /> <%= rating.rating %>
          </label>
        <% }) %>
      </fieldset>

      <fieldset>
        <legend>ESRB Rating</legend>


        <% esrbRatings.forEach(rating => { %>
          <label>
            <input type="radio" name="esrb" value=<%= rating.id %> /> <%= rating.rating %>
          </label>
        <% }) %>

      </fieldset>

      <fieldset>
        <legend>Critic Scores</legend>
        <label for="ign">IGN Score (0-10):</label>
        <input
          type="number"
          id="ign"
          name="ign"
          min="0"
          max="10"
          step="0.1"
          placeholder="IGN Score"
        />

        <label for="opencritic">OpenCritic Score (0-100):</label>
        <input
          type="number"
          id="opencritic"
          name="opencritic"
          min="0"
          max="100"
          step="1"
          placeholder="OpenCritic Score"
        />

        <label for="metacritic">Metacritic Score (0-100):</label>
        <input
          type="number"
          id="metacritic"
          name="metacritic"
          min="0"
          max="100"
          step="1"
          placeholder="Metacritic Score"
        />
      </fieldset>

      <fieldset>
        <legend>Genre</legend>
        <section class="genres">
          <% genres.forEach(genre => { %>
            <label>
              <input type="radio" name="genre" value=<%= genre.id %> required /> <%= genre.name %>
            </label>
          <% }) %>
        </section>
         
      </fieldset>

      <section><p>Don't see the genre?</p> <button type="button" onclick="toggleForm()">Add Genre</button></section>
      <section class="toggle-form">
        <%- include("../partials/genre-inputs", { errors: locals.errors, formData: locals.formData, isAdd: true, form: "add-genre"}) %>
        <button type="submit" form="add-genre">Add</button>
       </section>

    </form>
  </body>
</html>
